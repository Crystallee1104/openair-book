<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 13 Calendar plots | openair</title>
  <meta name="description" content="This will eventually form a book related to the openair R package." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 13 Calendar plots | openair" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This will eventually form a book related to the openair R package." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 13 Calendar plots | openair" />
  
  <meta name="twitter:description" content="This will eventually form a book related to the openair R package." />
  

<meta name="author" content="David Carslaw" />


<meta name="date" content="2020-07-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="sec-trendLevel.html"/>
<link rel="next" href="sec-TheilSen.html"/>
<script src="libs/header-attrs-2.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.css" rel="stylesheet" />
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.Default.css" rel="stylesheet" />
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.freezable.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.layersupport.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">The openair book</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Prerequisites</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="sec-importAURN.html"><a href="sec-importAURN.html"><i class="fa fa-check"></i><b>3</b> Accessing UK Air Quality Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="sec-importAURN.html"><a href="sec-importAURN.html#accessing-data"><i class="fa fa-check"></i><b>3.1</b> Accessing data</a></li>
<li class="chapter" data-level="3.2" data-path="sec-importAURN.html"><a href="sec-importAURN.html#site-meta-data"><i class="fa fa-check"></i><b>3.2</b> Site Meta Data</a></li>
<li class="chapter" data-level="3.3" data-path="sec-importAURN.html"><a href="sec-importAURN.html#plot-sites-on-a-map"><i class="fa fa-check"></i><b>3.3</b> Plot Sites on a Map</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="sec-worldmet.html"><a href="sec-worldmet.html"><i class="fa fa-check"></i><b>4</b> Access meteorological data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="sec-worldmet.html"><a href="sec-worldmet.html#the-worldmet-package"><i class="fa fa-check"></i><b>4.1</b> The <code>worldmet</code> package</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="sec-windRose.html"><a href="sec-windRose.html"><i class="fa fa-check"></i><b>5</b> Wind and Pollution Roses</a>
<ul>
<li class="chapter" data-level="5.1" data-path="sec-windRose.html"><a href="sec-windRose.html#example-of-use"><i class="fa fa-check"></i><b>5.1</b> Example of use</a></li>
<li class="chapter" data-level="5.2" data-path="sec-windRose.html"><a href="sec-windRose.html#sec:comp-met"><i class="fa fa-check"></i><b>5.2</b> Comparing two meteorological data sets</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="sec-percentileRose.html"><a href="sec-percentileRose.html"><i class="fa fa-check"></i><b>6</b> Percentile roses</a>
<ul>
<li class="chapter" data-level="6.1" data-path="sec-percentileRose.html"><a href="sec-percentileRose.html#introduction"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="sec-percentileRose.html"><a href="sec-percentileRose.html#examples"><i class="fa fa-check"></i><b>6.2</b> Examples</a></li>
<li class="chapter" data-level="6.3" data-path="sec-percentileRose.html"><a href="sec-percentileRose.html#sec:CPF"><i class="fa fa-check"></i><b>6.3</b> Condtional probability function</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="sec-polarPlot.html"><a href="sec-polarPlot.html"><i class="fa fa-check"></i><b>7</b> Polar plots</a>
<ul>
<li class="chapter" data-level="7.1" data-path="sec-polarPlot.html"><a href="sec-polarPlot.html#introduction-to-polar-plots"><i class="fa fa-check"></i><b>7.1</b> Introduction to polar plots</a></li>
<li class="chapter" data-level="7.2" data-path="sec-polarPlot.html"><a href="sec-polarPlot.html#polar-plot-examples"><i class="fa fa-check"></i><b>7.2</b> Examples</a></li>
<li class="chapter" data-level="7.3" data-path="sec-polarPlot.html"><a href="sec-polarPlot.html#nonparametric-wind-regression-nwr"><i class="fa fa-check"></i><b>7.3</b> Nonparametric Wind Regression, NWR</a></li>
<li class="chapter" data-level="7.4" data-path="sec-polarPlot.html"><a href="sec-polarPlot.html#conditional-probability-function-cpf-plot"><i class="fa fa-check"></i><b>7.4</b> Conditional Probability Function (CPF) plot</a></li>
<li class="chapter" data-level="7.5" data-path="sec-polarPlot.html"><a href="sec-polarPlot.html#pairwise-statistics"><i class="fa fa-check"></i><b>7.5</b> Pairwise statistics</a></li>
<li class="chapter" data-level="7.6" data-path="sec-polarPlot.html"><a href="sec-polarPlot.html#sec:polarCluster"><i class="fa fa-check"></i><b>7.6</b> Clustering</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="sec-polarAnnulus.html"><a href="sec-polarAnnulus.html"><i class="fa fa-check"></i><b>8</b> Polar annulus</a>
<ul>
<li class="chapter" data-level="8.1" data-path="sec-polarAnnulus.html"><a href="sec-polarAnnulus.html#polarAnnulusBack"><i class="fa fa-check"></i><b>8.1</b> Purpose</a></li>
<li class="chapter" data-level="8.2" data-path="sec-polarAnnulus.html"><a href="sec-polarAnnulus.html#sec:examAnnulus"><i class="fa fa-check"></i><b>8.2</b> Example of use</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="sec-timePlot.html"><a href="sec-timePlot.html"><i class="fa fa-check"></i><b>9</b> Time series plots</a>
<ul>
<li class="chapter" data-level="9.1" data-path="sec-timePlot.html"><a href="sec-timePlot.html#sec:timePlotBack"><i class="fa fa-check"></i><b>9.1</b> Background</a></li>
<li class="chapter" data-level="9.2" data-path="sec-timePlot.html"><a href="sec-timePlot.html#examples-of-time-series-plotting"><i class="fa fa-check"></i><b>9.2</b> Examples of time series plotting</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="sec-timeVariation.html"><a href="sec-timeVariation.html"><i class="fa fa-check"></i><b>10</b> Temporal variations</a>
<ul>
<li class="chapter" data-level="10.1" data-path="sec-timeVariation.html"><a href="sec-timeVariation.html#sec:purpose-time-var"><i class="fa fa-check"></i><b>10.1</b> Purpose</a></li>
<li class="chapter" data-level="10.2" data-path="sec-timeVariation.html"><a href="sec-timeVariation.html#applications"><i class="fa fa-check"></i><b>10.2</b> Applications</a></li>
<li class="chapter" data-level="10.3" data-path="sec-timeVariation.html"><a href="sec-timeVariation.html#output"><i class="fa fa-check"></i><b>10.3</b> Output</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="sec-timeProp.html"><a href="sec-timeProp.html"><i class="fa fa-check"></i><b>11</b> Time proportion plots</a>
<ul>
<li class="chapter" data-level="11.1" data-path="sec-timeProp.html"><a href="sec-timeProp.html#sec:timePropBack"><i class="fa fa-check"></i><b>11.1</b> Background</a></li>
<li class="chapter" data-level="11.2" data-path="sec-timeProp.html"><a href="sec-timeProp.html#sec:timePropEx"><i class="fa fa-check"></i><b>11.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="sec-trendLevel.html"><a href="sec-trendLevel.html"><i class="fa fa-check"></i><b>12</b> Trend heat maps</a>
<ul>
<li class="chapter" data-level="12.1" data-path="sec-trendLevel.html"><a href="sec-trendLevel.html#another-way-of-representing-trends"><i class="fa fa-check"></i><b>12.1</b> Another way of representing trends</a></li>
<li class="chapter" data-level="12.2" data-path="sec-trendLevel.html"><a href="sec-trendLevel.html#sec:TrendLevelEx"><i class="fa fa-check"></i><b>12.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="sec-calendarPlot.html"><a href="sec-calendarPlot.html"><i class="fa fa-check"></i><b>13</b> Calendar plots</a>
<ul>
<li class="chapter" data-level="13.1" data-path="sec-calendarPlot.html"><a href="sec-calendarPlot.html#purpose"><i class="fa fa-check"></i><b>13.1</b> Purpose</a></li>
<li class="chapter" data-level="13.2" data-path="sec-calendarPlot.html"><a href="sec-calendarPlot.html#calendar-examples"><i class="fa fa-check"></i><b>13.2</b> Calendar examples</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="sec-TheilSen.html"><a href="sec-TheilSen.html"><i class="fa fa-check"></i><b>14</b> Theil-Sen trends</a>
<ul>
<li class="chapter" data-level="14.1" data-path="sec-TheilSen.html"><a href="sec-TheilSen.html#trend-estimates"><i class="fa fa-check"></i><b>14.1</b> Trend estimates</a></li>
<li class="chapter" data-level="14.2" data-path="sec-TheilSen.html"><a href="sec-TheilSen.html#example-trend-analysis"><i class="fa fa-check"></i><b>14.2</b> Example trend analysis</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="sec-timeVariation.html"><a href="sec-timeVariation.html#output"><i class="fa fa-check"></i><b>14.2.1</b> Output</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="sec-smoothTrend.html"><a href="sec-smoothTrend.html"><i class="fa fa-check"></i><b>15</b> Smooth trends</a>
<ul>
<li class="chapter" data-level="15.1" data-path="sec-smoothTrend.html"><a href="sec-smoothTrend.html#sec:SmoothTrendInfo"><i class="fa fa-check"></i><b>15.1</b> Background</a></li>
<li class="chapter" data-level="15.2" data-path="sec-smoothTrend.html"><a href="sec-smoothTrend.html#examples-of-trend-analysis"><i class="fa fa-check"></i><b>15.2</b> Examples of trend analysis</a></li>
<li class="chapter" data-level="15.3" data-path="sec-smoothTrend.html"><a href="sec-smoothTrend.html#seasonal-averages"><i class="fa fa-check"></i><b>15.3</b> Seasonal averages</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="sec-trajPlot.html"><a href="sec-trajPlot.html"><i class="fa fa-check"></i><b>16</b> Trajectory analysis</a>
<ul>
<li class="chapter" data-level="16.1" data-path="sec-trajPlot.html"><a href="sec-trajPlot.html#plotting-trajectories"><i class="fa fa-check"></i><b>16.1</b> Plotting trajectories</a></li>
<li class="chapter" data-level="16.2" data-path="sec-trajPlot.html"><a href="sec-trajPlot.html#sec:trajLevel"><i class="fa fa-check"></i><b>16.2</b> Trajectory gridded frequencies</a></li>
<li class="chapter" data-level="16.3" data-path="sec-trajPlot.html"><a href="sec-trajPlot.html#trajectory-source-contribution-functions"><i class="fa fa-check"></i><b>16.3</b> Trajectory source contribution functions</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="sec-trajPlot.html"><a href="sec-trajPlot.html#identifying-the-contribution-of-high-concentration-back-trajectories"><i class="fa fa-check"></i><b>16.3.1</b> Identifying the contribution of high concentration back trajectories</a></li>
<li class="chapter" data-level="16.3.2" data-path="sec-trajPlot.html"><a href="sec-trajPlot.html#allocating-trajectories-to-different-wind-sectors"><i class="fa fa-check"></i><b>16.3.2</b> Allocating trajectories to different wind sectors</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="sec-trajPlot.html"><a href="sec-trajPlot.html#potential-source-contribution-function-pscf"><i class="fa fa-check"></i><b>16.4</b> Potential Source Contribution Function (PSCF)</a></li>
<li class="chapter" data-level="16.5" data-path="sec-trajPlot.html"><a href="sec-trajPlot.html#concentration-weighted-trajectory-cwt"><i class="fa fa-check"></i><b>16.5</b> Concentration Weighted Trajectory (CWT)</a></li>
<li class="chapter" data-level="16.6" data-path="sec-trajPlot.html"><a href="sec-trajPlot.html#sec:trajCluster"><i class="fa fa-check"></i><b>16.6</b> Trajectory clustering</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">openair</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="sec:calendarPlot" class="section level1" number="13">
<h1><span class="header-section-number">Section 13</span> Calendar plots</h1>
<div id="purpose" class="section level2" number="13.1">
<h2><span class="header-section-number">13.1</span> Purpose</h2>
<p>Sometimes it is useful to visualise data in a familiar way. Calendars
are the obvious way to represent data for data on the time scale of
days or months. The <code>calendarPlot</code> function provides an effective
way to visualise data in this way by showing daily concentrations laid
out in a calendar format. The concentration of a species is shown by
its colour. The data can be shown in different ways. By default,
<code>calendarPlot</code> overlays the day of the month. However, if wind
speed and wind direction are available then an arrow can be shown for
each day giving the vector-averaged wind direction. In addition, the
arrow can be scaled according to the wind speed to highlight both the
direction and strength of the wind on a particular day, which can help
show the influence of meteorology on pollutant concentrations.</p>
<p><code>calendarPlot</code> can also show the daily mean concentration as a
number on each day and can be extended to highlight those conditions
where daily mean (or maximum etc.) concentrations are above a
particular threshold. This approach is useful for highlighting daily
air quality limits e.g. when the daily mean concentration is greater
than 50 <span class="math inline">\(\mu\)</span>g m<sup>-3</sup>.</p>
<p>The <code>calendarPlot</code> function can also be used to plot categorical
scales. This is useful for plotting concentrations expressed as an air
quality index i.e. intervals of concentrations that are expressed in
ways like ‘very good’, ‘good’, ‘poor’ and so on.</p>
</div>
<div id="calendar-examples" class="section level2" number="13.2">
<h2><span class="header-section-number">13.2</span> Calendar examples</h2>
<p>The function is called in the usual way. As a minimum, a data frame,
pollutant and year is required. So to show O<sub>3</sub> concentrations for
each day in 2003 (Figure <a href="sec-calendarPlot.html#fig:calendarPlot">13.1</a>). Note that if <code>year</code>
is not supplied the full data set will be used.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="sec-calendarPlot.html#cb99-1" aria-hidden="true"></a><span class="kw">library</span>(openair)</span>
<span id="cb99-2"><a href="sec-calendarPlot.html#cb99-2" aria-hidden="true"></a><span class="kw">calendarPlot</span>(mydata, <span class="dt">pollutant =</span> <span class="st">&quot;o3&quot;</span>, <span class="dt">year =</span> <span class="dv">2003</span>)</span></code></pre></div>
<div class="figure"><span id="fig:calendarPlot"></span>
<img src="openair_files/figure-html/calendarPlot-1.png" alt="`calendarPlot` for O~3~ concentrations in 2003." width="576" />
<p class="caption">
Figure 13.1: <code>calendarPlot</code> for O<sub>3</sub> concentrations in 2003.
</p>
</div>
<p>It is sometimes useful to annotate the plots with other
information. It is possible to show the daily mean
wind angle, which can also be scaled to wind speed. The idea here
being to provide some information on meteorological conditions on each
day. Another useful option is to set <code>annotate = "value"</code> in
which case the daily concentration will be shown on each
day. Furthermore, it is sometimes useful to highlight particular
values more clearly. For example, to highlight daily mean PM<sub>10</sub>
concentrations above 50 <span class="math inline">\(\mu\)</span>g m<sup>-3</sup>. This is where setting <code>lim</code> (a
concentration limit) is useful. In setting <code>lim</code> the user can then
differentiate the values below and above <code>lim</code> by colour of text,
size of text and type of text e.g. plain and bold.</p>
<p>Figure <a href="sec-calendarPlot.html#fig:calendarPlotExceed">13.2</a> highlights those days where PM<sub>10</sub>
concentrations exceed 50 <span class="math inline">\(\mu\)</span>g m<sup>-3</sup> by making the annotation for those days
bigger, bold and orange. Plotting the data in this way clearly shows
the days where PM<sub>10</sub> &gt; 50 <span class="math inline">\(\mu\)</span>g m<sup>-3</sup>.</p>
<p>Other <span class="pkg">openair</span> functions can be used to plot other statistics. For
example, <code>rollingMean</code> could be used to calculate rolling 8-hour
mean O<sub>3</sub> concentrations. Then, <code>calendarPlot</code> could be used with
<code>statistic = "max"</code> to show days where the maximum daily rolling
8-hour mean O<sub>3</sub> concentration is greater than a certain threshold
e.g. 100 or 120~<span class="math inline">\(\mu\)</span>g m<sup>-3</sup>.</p>

<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="sec-calendarPlot.html#cb100-1" aria-hidden="true"></a><span class="kw">calendarPlot</span>(mydata, <span class="dt">pollutant =</span> <span class="st">&quot;pm10&quot;</span>, <span class="dt">year =</span> <span class="dv">2003</span>, </span>
<span id="cb100-2"><a href="sec-calendarPlot.html#cb100-2" aria-hidden="true"></a>             <span class="dt">annotate =</span> <span class="st">&quot;value&quot;</span>, </span>
<span id="cb100-3"><a href="sec-calendarPlot.html#cb100-3" aria-hidden="true"></a>             <span class="dt">lim =</span><span class="dv">50</span>, </span>
<span id="cb100-4"><a href="sec-calendarPlot.html#cb100-4" aria-hidden="true"></a>             <span class="dt">cols =</span> <span class="st">&quot;Purples&quot;</span>, </span>
<span id="cb100-5"><a href="sec-calendarPlot.html#cb100-5" aria-hidden="true"></a>             <span class="dt">col.lim =</span> <span class="kw">c</span>(<span class="st">&quot;black&quot;</span>,  <span class="st">&quot;orange&quot;</span>),</span>
<span id="cb100-6"><a href="sec-calendarPlot.html#cb100-6" aria-hidden="true"></a>             <span class="dt">layout =</span> <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">3</span>))</span></code></pre></div>
<div class="figure"><span id="fig:calendarPlotExceed"></span>
<img src="openair_files/figure-html/calendarPlotExceed-1.png" alt="calendarPlot for PM10 concentrations in 2003 with annotations highlighting those days where the concentration of PM10 &gt;50~\(\mu\)g m-3. The numbers show the PM10 concentration in \(\mu\)g m-3." width="768" />
<p class="caption">
Figure 13.2: <code>calendarPlot</code> for PM<sub>10</sub> concentrations in 2003 with annotations highlighting those days where the concentration of PM<sub>10</sub> &gt;50~<span class="math inline">\(\mu\)</span>g m<sup>-3</sup>. The numbers show the PM<sub>10</sub> concentration in <span class="math inline">\(\mu\)</span>g m<sup>-3</sup>.
</p>
</div>
<p>To show wind angle, scaled to wind speed (Figure <a href="sec-calendarPlot.html#fig:calendarPlot2">13.3</a>).</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="sec-calendarPlot.html#cb101-1" aria-hidden="true"></a><span class="kw">calendarPlot</span>(mydata, <span class="dt">pollutant =</span> <span class="st">&quot;o3&quot;</span>, <span class="dt">year =</span> <span class="dv">2003</span>, </span>
<span id="cb101-2"><a href="sec-calendarPlot.html#cb101-2" aria-hidden="true"></a>             <span class="dt">annotate =</span> <span class="st">&quot;ws&quot;</span>)</span></code></pre></div>
<div class="figure"><span id="fig:calendarPlot2"></span>
<img src="openair_files/figure-html/calendarPlot2-1.png" alt="`calendarPlot` for O~3~ concentrations in 2003 with annotations showing wind angle scaled to wind speed i.e. the longer the arrow, the higher the wind speed. It shows for example high O~3~ concentrations on the 17 and 18th of April were associated with strong north-easterly winds" width="80%" />
<p class="caption">
Figure 13.3: <code>calendarPlot</code> for O<sub>3</sub> concentrations in 2003 with annotations showing wind angle scaled to wind speed i.e. the longer the arrow, the higher the wind speed. It shows for example high O<sub>3</sub> concentrations on the 17 and 18th of April were associated with strong north-easterly winds
</p>
</div>
<p>Note again that <code>selectByDate</code> can be useful. For example, to
plot select months:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="sec-calendarPlot.html#cb102-1" aria-hidden="true"></a><span class="kw">calendarPlot</span>(<span class="kw">selectByDate</span>(mydata, <span class="dt">year =</span> <span class="dv">2003</span>, </span>
<span id="cb102-2"><a href="sec-calendarPlot.html#cb102-2" aria-hidden="true"></a>                          <span class="dt">month =</span> <span class="kw">c</span>(<span class="st">&quot;jun&quot;</span>, <span class="st">&quot;jul&quot;</span>, <span class="st">&quot;aug&quot;</span>)),</span>
<span id="cb102-3"><a href="sec-calendarPlot.html#cb102-3" aria-hidden="true"></a>             <span class="dt">pollutant =</span> <span class="st">&quot;o3&quot;</span>, <span class="dt">year =</span> <span class="dv">2003</span>)</span></code></pre></div>
<p>Figure <a href="sec-calendarPlot.html#fig:calendarPlotCategor">13.4</a> shows an example of plotting data
with a categorical scale. In this case the options <code>labels</code> and
<code>breaks</code> have been used to define concentration intervals and their
descriptions. Note that <code>breaks</code> needs to be one longer than
<code>labels</code>. In the example in Figure <a href="sec-calendarPlot.html#fig:calendarPlotCategor">13.4</a> the
first interval (‘Very low’) is defined as concentrations from 0 to
50 (ppb), ‘Low’ is 50 to 100 and so on. Note that the upper value of
<code>breaks</code> should be a number greater than the maximum value
contained in the data to ensure that it is encompassed. In the example
given in Figure <a href="sec-calendarPlot.html#fig:calendarPlotCategor">13.4</a> the maximum daily
concentration is plotted. These types of plots are very useful for
considering national or international air quality indexes.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="sec-calendarPlot.html#cb103-1" aria-hidden="true"></a><span class="kw">calendarPlot</span>(mydata, <span class="dt">pollutant =</span> <span class="st">&quot;no2&quot;</span>, <span class="dt">year =</span> <span class="dv">2003</span>,</span>
<span id="cb103-2"><a href="sec-calendarPlot.html#cb103-2" aria-hidden="true"></a>  <span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">150</span>, <span class="dv">1000</span>),</span>
<span id="cb103-3"><a href="sec-calendarPlot.html#cb103-3" aria-hidden="true"></a>  <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Very low&quot;</span>, <span class="st">&quot;Low&quot;</span>, <span class="st">&quot;High&quot;</span>, <span class="st">&quot;Very High&quot;</span>),</span>
<span id="cb103-4"><a href="sec-calendarPlot.html#cb103-4" aria-hidden="true"></a>  <span class="dt">cols =</span> <span class="st">&quot;increment&quot;</span>, <span class="dt">statistic =</span> <span class="st">&quot;max&quot;</span>)</span></code></pre></div>
<div class="figure"><span id="fig:calendarPlotCategor"></span>
<img src="openair_files/figure-html/calendarPlotCategor-1.png" alt="`calendarPlot` for NO~2~ concentrations in 2003 with a user-defined categorical scale." width="768" />
<p class="caption">
Figure 13.4: <code>calendarPlot</code> for NO<sub>2</sub> concentrations in 2003 with a user-defined categorical scale.
</p>
</div>
<p>The user can explicitly set each colour interval:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="sec-calendarPlot.html#cb104-1" aria-hidden="true"></a><span class="kw">calendarPlot</span>(mydata, <span class="dt">pollutant =</span> <span class="st">&quot;no2&quot;</span>, <span class="dt">year =</span> <span class="dv">2003</span>,</span>
<span id="cb104-2"><a href="sec-calendarPlot.html#cb104-2" aria-hidden="true"></a>  <span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">150</span>, <span class="dv">1000</span>),</span>
<span id="cb104-3"><a href="sec-calendarPlot.html#cb104-3" aria-hidden="true"></a>  <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Very low&quot;</span>, <span class="st">&quot;Low&quot;</span>, <span class="st">&quot;High&quot;</span>, <span class="st">&quot;Very High&quot;</span>),</span>
<span id="cb104-4"><a href="sec-calendarPlot.html#cb104-4" aria-hidden="true"></a>  <span class="dt">cols =</span> <span class="kw">c</span>(<span class="st">&quot;lightblue&quot;</span>, <span class="st">&quot;forestgreen&quot;</span>, <span class="st">&quot;yellow&quot;</span>,  <span class="st">&quot;red&quot;</span>),</span>
<span id="cb104-5"><a href="sec-calendarPlot.html#cb104-5" aria-hidden="true"></a>  <span class="dt">statistic =</span> <span class="st">&quot;max&quot;</span>)</span></code></pre></div>
<p>Note that in the case of categorical scales it is possible to define
the breaks and labels first and then make the plot. For example:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="sec-calendarPlot.html#cb105-1" aria-hidden="true"></a>breaks &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">34</span>, <span class="dv">66</span>, <span class="dv">100</span>, <span class="dv">121</span>, <span class="dv">141</span>, <span class="dv">160</span>, <span class="dv">188</span>, <span class="dv">214</span>, <span class="dv">240</span>, <span class="dv">500</span>)</span>
<span id="cb105-2"><a href="sec-calendarPlot.html#cb105-2" aria-hidden="true"></a>labels &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Low.1&quot;</span>, <span class="st">&quot;Low.2&quot;</span>, <span class="st">&quot;Low.3&quot;</span>, <span class="st">&quot;Moderate.4&quot;</span>, <span class="st">&quot;Moderate.5&quot;</span>, <span class="st">&quot;Moderate.6&quot;</span>,</span>
<span id="cb105-3"><a href="sec-calendarPlot.html#cb105-3" aria-hidden="true"></a>            <span class="st">&quot;High.7&quot;</span>, <span class="st">&quot;High.8&quot;</span>, <span class="st">&quot;High.9&quot;</span>, <span class="st">&quot;Very High.10&quot;</span>)</span>
<span id="cb105-4"><a href="sec-calendarPlot.html#cb105-4" aria-hidden="true"></a></span>
<span id="cb105-5"><a href="sec-calendarPlot.html#cb105-5" aria-hidden="true"></a><span class="kw">calendarPlot</span>(mydata, <span class="dt">pollutant =</span> <span class="st">&quot;no2&quot;</span>, <span class="dt">year =</span> <span class="dv">2003</span>,</span>
<span id="cb105-6"><a href="sec-calendarPlot.html#cb105-6" aria-hidden="true"></a>  <span class="dt">breaks =</span> breaks, <span class="dt">labels =</span> labels,</span>
<span id="cb105-7"><a href="sec-calendarPlot.html#cb105-7" aria-hidden="true"></a>  <span class="dt">cols =</span> <span class="st">&quot;jet&quot;</span>, <span class="dt">statistic =</span> <span class="st">&quot;max&quot;</span>)</span></code></pre></div>
<p>It is also possible to first use <code>rollingMean</code> to calculate
statistics. For example, if one was interested in plotting the maximum
daily rolling 8-hour mean concentration, the data could be prepared
and plotted as follows.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="sec-calendarPlot.html#cb106-1" aria-hidden="true"></a><span class="co">## makes a new field &#39;rolling8o3&#39;</span></span>
<span id="cb106-2"><a href="sec-calendarPlot.html#cb106-2" aria-hidden="true"></a>dat &lt;-<span class="st"> </span><span class="kw">rollingMean</span>(mydata, <span class="dt">pollutant =</span> <span class="st">&quot;o3&quot;</span>, <span class="dt">hours =</span> <span class="dv">8</span>)</span>
<span id="cb106-3"><a href="sec-calendarPlot.html#cb106-3" aria-hidden="true"></a>breaks &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">34</span>, <span class="dv">66</span>, <span class="dv">100</span>, <span class="dv">121</span>, <span class="dv">141</span>, <span class="dv">160</span>, <span class="dv">188</span>, <span class="dv">214</span>, <span class="dv">240</span>, <span class="dv">500</span>)</span>
<span id="cb106-4"><a href="sec-calendarPlot.html#cb106-4" aria-hidden="true"></a>labels &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Low.1&quot;</span>, <span class="st">&quot;Low.2&quot;</span>, <span class="st">&quot;Low.3&quot;</span>, <span class="st">&quot;Moderate.4&quot;</span>, <span class="st">&quot;Moderate.5&quot;</span>, <span class="st">&quot;Moderate.6&quot;</span>,</span>
<span id="cb106-5"><a href="sec-calendarPlot.html#cb106-5" aria-hidden="true"></a>            <span class="st">&quot;High.7&quot;</span>, <span class="st">&quot;High.8&quot;</span>, <span class="st">&quot;High.9&quot;</span>, <span class="st">&quot;Very High.10&quot;</span>)</span>
<span id="cb106-6"><a href="sec-calendarPlot.html#cb106-6" aria-hidden="true"></a></span>
<span id="cb106-7"><a href="sec-calendarPlot.html#cb106-7" aria-hidden="true"></a><span class="kw">calendarPlot</span>(dat, <span class="dt">pollutant =</span> <span class="st">&quot;rolling8o3&quot;</span>, <span class="dt">year =</span> <span class="dv">2003</span>,</span>
<span id="cb106-8"><a href="sec-calendarPlot.html#cb106-8" aria-hidden="true"></a>  <span class="dt">breaks =</span> breaks, <span class="dt">labels =</span> labels,</span>
<span id="cb106-9"><a href="sec-calendarPlot.html#cb106-9" aria-hidden="true"></a>  <span class="dt">cols =</span> <span class="st">&quot;jet&quot;</span>, <span class="dt">statistic =</span> <span class="st">&quot;max&quot;</span>)</span></code></pre></div>
<p>The UK has an air quality index for O<sub>3</sub>, NO<sub>2</sub>, PM<sub>10</sub> and 
described in detail at
(<a href="http://uk-air.defra.gov.uk/air-pollution/daqi" class="uri">http://uk-air.defra.gov.uk/air-pollution/daqi</a>) and
<span class="citation">COMEAP (<a href="#ref-COMEAP2011" role="doc-biblioref">2011</a>)</span>. The index is most relevant to air quality
forecasting, but is used widely for public information. Most other
countries have similar indexes. Note that the indexes are calculated
for different averaging times dependent on the pollutant: rolling
8-hour mean for O<sub>3</sub>, hourly means for NO<sub>2</sub> and a fixed 24-hour
mean for PM<sub>10</sub> and PM<sub>2.5</sub>.</p>
<p>In the code below the labels and breaks are defined for each pollutant
to make it easier to use the index in the
<code>calendarPlot</code> function.</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="sec-calendarPlot.html#cb107-1" aria-hidden="true"></a><span class="co">## the labels - same for all species</span></span>
<span id="cb107-2"><a href="sec-calendarPlot.html#cb107-2" aria-hidden="true"></a>labels &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;1 - Low&quot;</span>, <span class="st">&quot;2 - Low&quot;</span>, <span class="st">&quot;3 - Low&quot;</span>, <span class="st">&quot;4 - Moderate&quot;</span>, <span class="st">&quot;5 - Moderate&quot;</span>,</span>
<span id="cb107-3"><a href="sec-calendarPlot.html#cb107-3" aria-hidden="true"></a>            <span class="st">&quot;6 - Moderate&quot;</span>, <span class="st">&quot;7 - High&quot;</span>, <span class="st">&quot;8 - High&quot;</span>, <span class="st">&quot;9 - High&quot;</span>, <span class="st">&quot;10 - Very High&quot;</span>)</span>
<span id="cb107-4"><a href="sec-calendarPlot.html#cb107-4" aria-hidden="true"></a>o3.breaks &lt;-<span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">34</span>, <span class="dv">66</span>, <span class="dv">100</span>, <span class="dv">121</span>, <span class="dv">141</span>, <span class="dv">160</span>, <span class="dv">188</span>, <span class="dv">214</span>, <span class="dv">240</span>, <span class="dv">500</span>)</span>
<span id="cb107-5"><a href="sec-calendarPlot.html#cb107-5" aria-hidden="true"></a>no2.breaks &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">67</span>, <span class="dv">134</span>, <span class="dv">200</span>, <span class="dv">268</span>, <span class="dv">335</span>, <span class="dv">400</span>, <span class="dv">468</span>, <span class="dv">535</span>, <span class="dv">600</span>, <span class="dv">1000</span>)</span>
<span id="cb107-6"><a href="sec-calendarPlot.html#cb107-6" aria-hidden="true"></a>pm10.breaks &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">17</span>, <span class="dv">34</span>, <span class="dv">50</span>, <span class="dv">59</span>, <span class="dv">67</span>, <span class="dv">75</span>, <span class="dv">84</span>, <span class="dv">92</span>, <span class="dv">100</span>, <span class="dv">1000</span>)</span>
<span id="cb107-7"><a href="sec-calendarPlot.html#cb107-7" aria-hidden="true"></a>pm25.breaks &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">12</span>, <span class="dv">24</span>, <span class="dv">35</span>, <span class="dv">42</span>, <span class="dv">47</span>, <span class="dv">53</span>, <span class="dv">59</span>, <span class="dv">65</span>, <span class="dv">70</span>, <span class="dv">1000</span>)</span></code></pre></div>
<p>Remember it is necessary to use the correct averaging time. Assuming
data are imported using <code>importAURN</code> or similar, then the
units will be in <span class="math inline">\(\mu\)</span>g m<sup>-3</sup> — if not the user should ensure this is the
case. Note that rather than showing the day of the month (the default), <code>annotate = "value"</code> can be used to show the actual numeric value
on each day. In this way, the colours represent the categorical
interval the concentration on a day corresponds to <em>and</em> the
actual value itself is shown.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="sec-calendarPlot.html#cb108-1" aria-hidden="true"></a><span class="co">## import test data</span></span>
<span id="cb108-2"><a href="sec-calendarPlot.html#cb108-2" aria-hidden="true"></a>dat &lt;-<span class="st"> </span><span class="kw">importAURN</span>(<span class="dt">site =</span> <span class="st">&quot;kc1&quot;</span>, <span class="dt">year =</span> <span class="dv">2010</span>)</span>
<span id="cb108-3"><a href="sec-calendarPlot.html#cb108-3" aria-hidden="true"></a></span>
<span id="cb108-4"><a href="sec-calendarPlot.html#cb108-4" aria-hidden="true"></a><span class="co">## no2 index example</span></span>
<span id="cb108-5"><a href="sec-calendarPlot.html#cb108-5" aria-hidden="true"></a><span class="kw">calendarPlot</span>(dat, <span class="dt">year =</span> <span class="dv">2010</span>, <span class="dt">pollutant =</span> <span class="st">&quot;no2&quot;</span>, <span class="dt">labels =</span> labels,</span>
<span id="cb108-6"><a href="sec-calendarPlot.html#cb108-6" aria-hidden="true"></a>             <span class="dt">breaks =</span> no2.breaks, <span class="dt">statistic =</span> <span class="st">&quot;max&quot;</span>, <span class="dt">cols =</span> <span class="st">&quot;jet&quot;</span>)</span>
<span id="cb108-7"><a href="sec-calendarPlot.html#cb108-7" aria-hidden="true"></a></span>
<span id="cb108-8"><a href="sec-calendarPlot.html#cb108-8" aria-hidden="true"></a><span class="co">## for PM10 or PM2.5 we need the daily mean concentration</span></span>
<span id="cb108-9"><a href="sec-calendarPlot.html#cb108-9" aria-hidden="true"></a><span class="kw">calendarPlot</span>(dat, <span class="dt">year =</span> <span class="dv">2010</span>, <span class="dt">pollutant =</span> <span class="st">&quot;pm10&quot;</span>, <span class="dt">labels =</span> labels,</span>
<span id="cb108-10"><a href="sec-calendarPlot.html#cb108-10" aria-hidden="true"></a>             <span class="dt">breaks =</span> pm10.breaks, <span class="dt">statistic =</span> <span class="st">&quot;mean&quot;</span>, <span class="dt">cols =</span> <span class="st">&quot;jet&quot;</span>)</span>
<span id="cb108-11"><a href="sec-calendarPlot.html#cb108-11" aria-hidden="true"></a></span>
<span id="cb108-12"><a href="sec-calendarPlot.html#cb108-12" aria-hidden="true"></a><span class="co">## for ozone, need the rolling 8-hour mean</span></span>
<span id="cb108-13"><a href="sec-calendarPlot.html#cb108-13" aria-hidden="true"></a>dat &lt;-<span class="st"> </span><span class="kw">rollingMean</span>(dat, <span class="dt">pollutant =</span> <span class="st">&quot;o3&quot;</span>, <span class="dt">hours =</span> <span class="dv">8</span>)</span>
<span id="cb108-14"><a href="sec-calendarPlot.html#cb108-14" aria-hidden="true"></a><span class="kw">calendarPlot</span>(dat, <span class="dt">year =</span> <span class="dv">2010</span>, <span class="dt">pollutant =</span> <span class="st">&quot;rolling8o3&quot;</span>, <span class="dt">labels =</span> labels,</span>
<span id="cb108-15"><a href="sec-calendarPlot.html#cb108-15" aria-hidden="true"></a>             <span class="dt">breaks =</span> o3.breaks, <span class="dt">statistic =</span> <span class="st">&quot;max&quot;</span>, <span class="dt">cols =</span> <span class="st">&quot;jet&quot;</span>)</span></code></pre></div>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-COMEAP2011">
<p>COMEAP. 2011. “Review of the Uk Air Quality Index: A Report by the Committee on the Medical Effects of Air Pollutants.” <a href="http://comeap.org.uk/documents/reports/130-review-of-the-uk-air-quality-index.html">http://comeap.org.uk/documents/reports/130-review-of-the-uk-air-quality-index.html</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="sec-trendLevel.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sec-TheilSen.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/calendar-plot.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["openair.pdf", "openair.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
